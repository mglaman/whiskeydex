<div x-data="{ open: false }" @keydown.window.escape="open = false">
  <div x-show="open" x-transition:enter="transition-opacity ease-linear duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition-opacity ease-linear duration-300" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"  class="relative z-40 md:hidden" role="dialog" aria-modal="true" style="display: none">
    <div class="fixed inset-0 bg-gray-600 bg-opacity-75"></div>
    <div class="fixed inset-0 z-40 flex">
      <div class="relative flex w-full max-w-xs flex-1 flex-col bg-stone-600">
        <div class="absolute top-0 right-0 -mr-12 pt-2">
          <button type="button" class="ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" @click="open = false">
            <span class="sr-only">Close sidebar</span>
            <!-- Heroicon name: outline/x-mark -->
            <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <div class="h-0 flex-1 overflow-y-auto pt-5 pb-4">
          <div class="flex flex-1 flex-col overflow-y-auto pt-5 pb-4">
            <div class="flex flex-shrink-0 items-center px-4">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-stone-400">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
              </svg>
            </div>
            <div class="mt-5 flex flex-1 flex-col">
              {{ page.primary_menu }}
              {{ page.secondary_menu }}
            </div>
          </div>
          <div class="w-14 flex-shrink-0" aria-hidden="true">
            <!-- Force sidebar to shrink to fit close icon -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col">
    <div class="flex flex-grow flex-col overflow-y-auto bg-stone-600 pt-5">
      <div class="flex flex-1 flex-col overflow-y-auto pt-5 pb-4">
        <div class="flex flex-shrink-0 items-center px-4">
          <svg class="h-12 w-auto text-stone-200" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="38.14 40.96 51.71 46.08" fill="currentColor">
            <path d="m40.191 87.039h47.617c1.1523 0 2.0469-0.89453 2.0469-2.0469v-41.984c0-1.1523-0.89453-2.0469-2.0469-2.0469h-47.617c-1.1523 0-2.0469 0.89453-2.0469 2.0469v42.113c0 1.0234 0.89453 1.918 2.0469 1.918zm45.57-11.262h-43.523v-9.7266c6.1445 1.1523 12.543 1.1523 18.816 0.12891l6.9102-1.1523c5.7617-1.0273 11.906-1.0273 17.797 0.125zm-43.523 7.168v-3.1992l43.523-0.003906v3.1992zm43.523-37.891v16.129c-6.1445-1.1523-12.543-1.1523-18.688-0.12891l-6.9102 1.1523c-6.0156 1.0234-12.16 0.89453-18.047-0.25781l-0.003907-16.895z"></path>
          </svg>
        </div>
        <div class="mt-5 flex flex-1 flex-col">
          {{ page.primary_menu }}
        </div>
      </div>
    </div>
    <div class="flex flex-shrink-0 bg-stone-600 hover:bg-stone-800 p-4 {{ is_userpage ? 'bg-stone-800' }}">
      <a href="{{ url('user.page') }}" class="group block w-full flex-shrink-0">
        <div class="flex items-center">
          <div>
            {#            <img class="inline-block h-9 w-9 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=facearea&amp;facepad=2&amp;w=256&amp;h=256&amp;q=80" alt="">#}
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="inline-block h-9 w-9 rounded-full text-white">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          </div>
          <div class="ml-3">
            <p class="text-sm font-medium text-white">{{ user_displayname }}</p>
            <p class="text-xs font-medium text-stone-100">View profile</p>
          </div>
        </div>
      </a>
    </div>
  </div>
  <div class="flex flex-1 flex-col md:pl-64">
    <div class="sticky top-0 z-10 bg-stone-600 pl-1 pt-1 sm:pl-3 sm:pt-3 md:hidden">
      <button type="button" class="-ml-0.5 -mt-0.5 inline-flex h-12 w-12 items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-stone-500" @click="open = true">
        <span class="sr-only">Open sidebar</span>
        <svg class="h-6 w-6 text-slate-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
        </svg>
      </button>
    </div>
    <main role="main">
      <a id="main-content" tabindex="-1"></a>{# link is in html.html.twig #}
      <div class="py-6">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 md:px-8">
          {{ page.page_title }}
          {{ page.header }}
          {{ page.highlighted }}
          {{ page.help }}
        </div>
        <div class="mx-auto max-w-7xl px-4 sm:px-6 md:px-8">
          <div class="py-4">
            {{ page.content }}
          </div>
        </div>
      </div>
    </main>

    {% if page.footer %}
      <footer role="contentinfo">
        {{ page.footer }}
      </footer>
    {% endif %}
  </div>

</div>{# /.layout-container #}
